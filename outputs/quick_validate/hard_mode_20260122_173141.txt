============================================================
PPO引导系统 - 困难模式验证
日志文件: /Users/denghandan/Documents/Demo/crowd-evacuation/outputs/quick_validate/hard_mode_20260122_173141.txt
============================================================

配置 (增加难度):
  - 行人数: 60 (vs 简单模式30)
  - 最大步数: 250 (vs 简单模式400)
  - 训练步数: 30000
  - 预计时间: 10-15分钟

[1/5] 创建环境...
  完成

[2/5] 测试随机基线 (无引导)...
    Episode 1: 疏散率=98.3%, 步数=250
    Episode 2: 疏散率=95.0%, 步数=250
    Episode 3: 疏散率=98.3%, 步数=250
    Episode 4: 疏散率=96.7%, 步数=250
    Episode 5: 疏散率=100.0%, 步数=169
  随机基线疏散率: 97.7%

  ⚠️ 警告: 随机基线疏散率过高，场景可能仍然太简单
  建议: 进一步增加行人数或减少步数

[3/5] 训练PPO (30000步)...
  PPO使用Apple Silicon GPU (MPS)
  训练完成! 耗时: 1400.9秒

[4/5] 评估PPO引导...
    Episode 1: 疏散率=100.0%, 步数=181
    Episode 2: 疏散率=100.0%, 步数=162
    Episode 3: 疏散率=98.3%, 步数=250
    Episode 4: 疏散率=100.0%, 步数=228
    Episode 5: 疏散率=100.0%, 步数=139

[5/5] 结果对比
============================================================

指标              PPO引导        无引导          差异        
--------------------------------------------------
疏散率             99.7%        97.7%        +2.0%
平均步数            192          234
平均奖励            868.2       715.8

============================================================
验证结论:
============================================================
△ 场景可能仍然较简单 (随机基线: 97.7%)
△ PPO略有效果 (+2.0%)

总耗时: 1488.5秒 (24.8分钟)

结果已保存: /Users/denghandan/Documents/Demo/crowd-evacuation/outputs/quick_validate/hard_mode_result.json
模型已保存: /Users/denghandan/Documents/Demo/crowd-evacuation/outputs/quick_validate/ppo_hard.zip

日志已保存: /Users/denghandan/Documents/Demo/crowd-evacuation/outputs/quick_validate/hard_mode_20260122_173141.txt
